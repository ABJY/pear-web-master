@model IEnumerable<NTU_FYP_REBUILD_17.ViewModels.ViewAccountLogViewModel>

@{
    ViewBag.Title = "View Account Log";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<style>
  .table {
  width: 100%;
}
</style>

<script src="~/Content/global/plugins/jquery.min.js" type="text/javascript"></script>  <!--Problem-->
<script src="~/Content/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
<script src="~/Content/global/scripts/datatable.js" type="text/javascript"></script>
<script src="~/Content/pages/scripts/table-datatables-responsive.min.js" type="text/javascript"></script> <!--Problem-->
<script src="~/Content/global/plugins/datatables/datatables.min.js" type="text/javascript"></script> <!--Problem-->
<link href="~/Content/global/plugins/datatables/datatables.min.css" rel="stylesheet" type="text/css" />
<link href="~/Content/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.css" rel="stylesheet" type="text/css" />
<script src="~/Content/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.js" type="text/javascript"></script>

<div class="portlet box blue-madison">
    <div class="portlet-title">
        <div class="caption">
            <i class="fa fa-folder-open-o"></i>Account Log
        </div>
        <div class="tools"> </div>
    </div>
    <div class="portlet-body">
        <table class="table table-striped table-bordered table-hover dt-responsive" id="sample_4" cellspacing="0">
            <thead>
                <tr>
                    <th class="min-tablet">No.</th>
                    <th class="min-tablet">Account Log ID</th>
                    <th class="min-tablet">Category</th>
                    <th class="min-tablet">Description</th>
                    <th class="none">Table Affected</th>
                    <th class="none">Old Value   </th>
                    <th class="none">New Value	</th>
                    <th class="none">Log ID   </th>
                    <th class="none">Old Log   </th>
                    <th class="none">New Log	</th>
                    <th class="min-tablet">User Initiated</th>
                    <th class="min-tablet">Date</th>
                </tr>
            </thead>
            <tbody>
                @if (Model != null)
                {
                    foreach (var item in Model)
                    {
                        if (item.logDesc == "TYPE_INVALID_LOGIN" || item.logDesc == "TYPE_INVALID_SECRET_ANSWER" || item.logDesc == "TYPE_UNKNOWN_ERROR")
                        {
                            ViewBag.Color = "#FF0000";
                        }
                        else if (item.logDesc == "TYPE_DELETE_INFO_OBJECT" || item.logDesc == "TYPE_DELETE_USER_INFO")
                        {
                            ViewBag.Color = "#FF0000";
                        }
                        else
                        {
                            ViewBag.Color = "#000000";
                        }

                        <tr style="color:@ViewBag.Color">
                            <td>@item.index</td>
                            <td>@item.logAccountID</td>
                            <td>@item.logDesc</td>
                            <td>@item.remarks</td>
                            <td>@item.tableAffected</td>
                            <td>@item.logOldValue</td>
                            <td>@item.logNewValue</td>
                            <td>@item.logID</td>
                            <td>@item.oldlogData</td>
                            <td>@item.logData</td>
                            <td>
                                ID: @item.userID
                                <br/>
                                Role: @item.userIDType
                                <br />
                                Name: @item.userIDPreferredName
                            </td>
                            <td>@item.createDateTime</td>
                        </tr>
                    }
                }
            </tbody>
        </table>
    </div>
</div>






