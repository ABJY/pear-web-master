@using Microsoft.AspNet.Identity
@using NTU_FYP_REBUILD_17.Models
@model IEnumerable<NTU_FYP_REBUILD_17.ViewModels.ViewApproveRejectLogViewModel>

@{
    ViewBag.Title = "GenerateSchedule";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";

    if (@User.Identity.GetUserTypeID() == "1")
    {
        Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
    }
    else if (@User.Identity.GetUserTypeID() == "6")
    {
        Layout = "~/Views/Shared/_LayoutSupervisor.cshtml";
    }
}

<script src="~/Content/global/plugins/jquery.min.js" type="text/javascript"></script>  <!--Problem-->
<script src="~/Content/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
<script src="~/Content/global/scripts/datatable.js" type="text/javascript"></script>
<script src="~/Content/pages/scripts/table-datatables-responsive.min.js" type="text/javascript"></script> <!--Problem-->
<script src="~/Content/global/plugins/datatables/datatables.min.js" type="text/javascript"></script> <!--Problem-->
<link href="~/Content/global/plugins/datatables/datatables.min.css" rel="stylesheet" type="text/css" />
<link href="~/Content/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.css" rel="stylesheet" type="text/css" />
<script src="~/Content/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.js" type="text/javascript"></script>

<div class="portlet box blue-madison">
    <div class="portlet-title">
        <div class="caption">
            <i class="fa fa-folder-open-o"></i>Approve Reject Log
        </div>
        <div class="tools"> </div>
    </div>
    <div class="portlet-body">
        <table class="table table-striped table-bordered table-hover dt-responsive" id="sample_4" cellspacing="0">
            <thead>
                <tr>
                    <th class="min-tablet">No.</th>
                    <th class="min-tablet">AR Log ID</th>
                    <th class="min-tablet">Log ID</th>
                    <th class="min-tablet">Description</th>
                    <th class="min-tablet">User Initiated</th>
                    <th class="min-tablet">User Responded</th>
                    <th class="min-tablet">Result</th>
                    <th class="min-tablet">Date</th>
                    <th class="none">Table Affected</th>
                    <th class="none">Old Value   </th>
                    <th class="none">New Value	</th>
                </tr>
            </thead>
            <tbody>
                @if (Model != null)
                {
                    foreach (var item in Model)
                    {
                        <tr>
                            <td>@item.index</td>
                            <td>@item.approveRejectID</td>
                            <td>@item.logID</td>
                            <td>@item.logDesc</td>
                            <td>
                                ID: @item.userIDInit
                                <br />
                                Name: @item.userIDInitPreferredName
                            </td>
                            <td>
                                ID: @item.userIDReceived
                                <br />
                                Name: @item.userIDReceivedPreferredName
                            </td>
                            @if (item.approve == 1)
                            {
                                <td>Approved</td>
                            }
                            else if (item.reject == 1)
                            {
                                <td>Rejected</td>
                            }
                            <td>@item.createDateTime</td>
                            <td>@item.tableAffected</td>
                            <td>@item.logOldValue</td>
                            <td>@item.logNewValue</td>
                        </tr>
                    }
                }
            </tbody>
        </table>
    </div>
</div>






